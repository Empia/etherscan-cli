#!/usr/bin/env node
const program = require('commander');
const api = require('../lib/init-api')();
 
program
  .description('desc')
  .command('getminedblocks', 'getminedblocks')
  .usage('[options] <ADRESS>')
  .parse(process.argv);

// print help with no args
if (program.args.length < 1 || program.args[0] == '') {
   program.help();
}
const { blessed, screen, contrib} = require('../lib/init-blessed')();
const layout = require('../lib/layout/account/getminedblocks')(contrib, screen); 
const minedblocks = api.account.getminedblocks(program.args[0]);
minedblocks.then(function(res) {
  layout.init(program.args[0]);
  layout.render(res);
}).catch(function(err) {
  console.error('err', err);
  process.exit(1);
});
